<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>offene Bestellungen</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">


  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.css" rel="stylesheet">

  <style>
    tbody>tr>:nth-child(9) {
      color: #DC3E1A;
    }

    tbody>tr>:nth-child(10) {
      color: #DC3E1A;
    }
  </style>

  <style>
    /* Carousel Styling */
    /* WIP */
    body {
      font-size: 18px;
      font-family: 'Helvetica', sans-serif;
      font-weight: 400;
      line-height: 120%;
    }

    main {
      background: rgb(255, 255, 255);
      height: 100vh;
      width: 100vw;
      display: grid;
      grid-template-columns: 1fr 1fr;

    }

    .location {
      align-self: center;
      padding: 10%;
    }

    h2 {
      margin-top: 25%;
      margin-bottom: 10%;
      height: 65%;
      background: rgba(255, 255, 255, 0.774);
      width: 100%;
      padding: 20px 20px;
      display: block;
      font-size: 20px;
    }

    .featured {
      align-self: center;
    }

    .slider {
      list-style: none;
      padding: 0;
    }

    .slider li {
      height: 400px;
      width: 300px;
      border-radius: 4px;
      background-color: #00bcd4;
      display: flex;
      text-align: center;
    }

    .slider li:nth-child(n) {
      background-color: #0957e7;
    }

    /* STACKED CARDS */
    .stacked-cards {
      position: relative;
    }

    .stacked-cards ul {
      position: relative;
      max-width: 40%;
      margin: 0 auto;
      padding-left: 0;
    }

    .stacked-cards li {
      margin-top: 5px;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 3px 6px 0px #333;
      list-style: none;
      width: 65%;
      position: absolute;
      left: 50%;
      transition: 0.5s ease transform;
    }

    .stacked-cards li:after {
      bottom: 0;
      content: "";
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    .stacked-cards li img {
      position: relative;
      display: block;
      max-width: 100%;
      height: auto;
    }

    .stacked-cards li.active {
      cursor: default;
      box-shadow: 0 5px 10px 0px #333;
      transition: 0.5s ease transform;
    }
  </style>

</head>

<body id="page-top">



  <!-- Page Heading -->
  <div div style="display: flex; align-items: center; justify-content: center; margin-top: 2rem;">
    <h1 class="h3 mb-0 text-gray-800">Offene Bestellungen</h1>
  </div>
  </br>
  </br>

  <!-- Daten importieren / exportieren -->
  <div style="display: flex; align-items: right; justify-content: flex-end">
    <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" style="margin-right: 1%;">
      <i class="fas fa-download fa-sm text-white-50"></i> Daten exportieren</a>

    <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" style="margin-right: 1%;">
      <i class="fas fa-upload fa-sm text-white-50"></i> Daten importieren</a>
  </div>

  <!-- Content Row-->
  <div>
    <div style="display: flex; align-items: center; justify-content: center;">
      <div class="row">
        <div class="col-sm">
          <div>
            <h3 style="padding-left: 0.5%;">Aufträge</h3>
          </div>
          <table id="productTable" class="table table-bordered table-condensed table-striped">
            <thead>
              <tr>
                <th>Bearbeiten</th>
                <th>Produkt</th>
                <th>Menge</th>
                <th>Gewicht</th>
                <th>Strasse</th>
                <th>Hausnr.</th>
                <th>Plz</th>
                <th>Ort</th>
                <th>Datum</th>
                <th>Zeit</th>
                <th>Auftragsnr.</th>
                <th>Erledigt</th>
                <th>Ausliefern</th>
                <th>Löschen</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <button type='button' onclick='productDisplay(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-edit'>
                  </button>
                </td>
                <td>Eichhof Lager</td>
                <td>20 Harrassen</td>
                <td>120kg</td>
                <td>Pilatusstrasse</td>
                <td> 1</td>
                <td> 6003</td>
                <td> Luzern</td>
                <td>01/11/2020</td>
                <td>08:00</td>
                <td>54116</td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-ok'>
                  </button>
                </td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-send'>
                  </button>
                </td>
                <td>
                  <button type='button' onclick='productDelete(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-remove'>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <button type='button' onclick='productDisplay(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-edit'>
                  </button>
                </td>
                <td>Baarer Bier</td>
                <td>5 Harrassen</td>
                <td>30kg</td>
                <td>Denkmalstrasse</td>
                <td> 11</td>
                <td> 6006</td>
                <td> Luzern</td>
                <td>23/11/2020</td>
                <td>17:15</td>
                <td>54476</td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-ok'>
                  </button>
                </td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-send'>
                  </button>
                </td>
                <td>
                  <button type='button' onclick='productDelete(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-remove'>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <button type='button' onclick='productDisplay(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-edit'>
                  </button>
                </td>
                <td>Rotwein</td>
                <td>34 Tetrapak</td>
                <td>35kg</td>
                <td>Widdergasse</td>
                <td>6</td>
                <td>8001</td>
                <td>Zürich</td>
                <td>03/12/2020</td>
                <td>09:30</td>
                <td>50576</td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-ok'>
                  </button>
                </td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-send'>
                  </button>
                </td>
                <td>
                  <button type='button' onclick='productDelete(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-remove'>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <button type='button' onclick='productDisplay(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-edit'>
                  </button>
                </td>
                <td>Absolut Vodka</td>
                <td>12 Flaschen</td>
                <td>15kg</td>
                <td>Langstrasse</td>
                <td>150</td>
                <td>8004</td>
                <td>Zürich</td>
                <td>23/11/2020</td>
                <td>13:30</td>
                <td>59576</td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-ok'>
                  </button>
                </td>
                <td>
                  <button type='button' class='btn btn-outline-primary' data-id='" + id + "'>
                    <span class='glyphicon glyphicon-send'>
                  </button>
                </td>
                <td>
                  <button type='button' onclick='productDelete(this);' class='btn btn-outline-primary'
                    data-id='" + id + "'>
                    <span class='glyphicon glyphicon-remove'>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- Auftrag hinzufügen button -->
          <div style="display: flex; align-items: Center; justify-content: center;">
            <button id="myBtn" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">Auftrag
              hinzufügen</button>
            <div id="myModal" class="modal">

              <!-- Modal content -->
              <div class="modal-content">
                <span class="close">&times;</span>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="panel panel-primary">
                      <div class="panel-heading">
                        <h3>Auftrag hinzufügen</h3>
                      </div>
                      <button type="button" id="updateButton" class="btn btn-primary"
                        onclick="productUpdate();">Ökologische Lieferung</button>
                      <button type="button" id="updateButton" class="btn btn-primary"
                        onclick="productUpdate();">Schnelle Lieferung</button>
                      <div class="panel-body">
                        <label for="produktname">
                          Produktname
                        </label>
                        <input type="text" class="form-control" value="" placeholder="Produktname" id="produktname" />
                      </div>
                      <div class="form-group">
                        <label for="menge">
                          Menge
                        </label>
                        <input type="number" class="form-control" value="" placeholder="Menge" id="menge" />
                      </div>

                      <div class="form-group">
                        <label for="gewicht">
                          Gewicht
                        </label>
                        <input type="number" class="form-control" value="" placeholder="Gewicht in kg" id="gewicht" />
                      </div>
                      Adresse
                      <div class="input-group">
                        <label for="strasse">
                        </label>
                        <input type="text" class="form-control" value="" placeholder="Strasse" id="strasse"
                          style="width: 150px;" />

                        <label for="hausnummer">
                        </label>
                        <input type="text" class="form-control" value="" placeholder="Hausnummer" id="hausnummer"
                          style="width: 150px;" />
                      </div>
                      </br>
                      <div class="input-group">
                        <label for="plz">
                        </label>
                        <input type="number" class="form-control" value="" placeholder="Plz" id="plz"
                          style="width: 150px;" />

                        <label for="ort">
                        </label>
                        <input type="text" class="form-control" value="" placeholder="Ort" id="ort"
                          style="width: 150px;" />
                      </div>
                      </br>
                      Lieferung (Datum/Zeit)
                      <div class="input-group">
                        <label for="lieferdatum">
                        </label>
                        <input type="date" class="form-control" value="" placeholder="dd-mm-yyyy" id="lieferdatum"
                          style="width: 100px;" />

                        <label for="lieferzeit">
                          <input type="time" class="form-control" value="" placeholder="hh:mm" id="lieferzeit"
                            style="width: 150px;" />
                        </label>
                      </div>

                      <div class="form-group">
                        <label for="auftragsnummer">
                          Auftragsnummer
                        </label>
                        <input type="text" class="form-control" value="" placeholder="Auftragsnummer"
                          id="auftragsnummer" />
                      </div>
                    </div>

                    <div class="panel-footer">
                      <div class="row">
                        <div class="col-sm-6">
                          <button type="button" id="updateButton" class="btn btn-primary" onclick="productUpdate();">
                            Hinzufügen
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        </br>
      </div>
    </div>




  </div>
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>

  <script>
    // Next id for adding a new Product
    var nextId = 1;
    // ID of Product currently editing
    var activeId = 0;

    function productDisplay(ctl) {
      var row = $(ctl).parents("tr");
      var cols = row.children("td");

      activeId = $($(cols[0]).children("button")[0]).data("id");
      $("#produktname").val($(cols[1]).text());
      $("#menge").val($(cols[2]).text());
      $("#gewicht").val($(cols[3]).text());
      $("#strasse").val($(cols[4]).text());
      $("#hausnummer").val($(cols[5]).text());
      $("#plz").val($(cols[6]).text());
      $("#ort").val($(cols[7]).text());
      $("#lieferdatum").val($(cols[8]).text());
      $("#lieferzeit").val($(cols[9]).text());
      $("#auftragsnummer").val($(cols[10]).text());

      // Change Update Button Text
      $("#updateButton").text("Aktualisieren");
    }

    function productUpdate() {
      if ($("#updateButton").text() == "Aktualisieren") {
        productUpdateInTable(activeId);
      }
      else {
        productAddToTable();
      }

      // Clear form fields
      formClear();

      // Focus to product name field
      $("#produktname").focus();
    }

    // Add product to <table>
    function productAddToTable() {
      // First check if a <tbody> tag exists, add one if not
      if ($("#productTable tbody").length == 0) {
        $("#productTable").append("<tbody></tbody>");
      }

      // Append product to table
      $("#productTable tbody").append(
        productBuildTableRow(nextId));

      // Increment next ID to use
      nextId += 1;
    }

    // Update product in <table>
    function productUpdateInTable(id) {
      // Find Product in <table>
      var row = $("#productTable button[data-id='" + id + "']")
        .parents("tr")[0];

      // Add changed product to table
      $(row).after(productBuildTableRow(id));
      // Remove original product
      $(row).remove();

      // Clear form fields
      formClear();

      // Change Update Button Text
      $("#updateButton").text("Hinzufügen");
    }

    // Build a <table> row of Product data
    function productBuildTableRow(id) {
      var ret =
        "<tr>" +
        "<td>" +
        "<button type='button' " +
        "onclick='productDisplay(this);' " +
        "class='btn btn-outline-primary' " +
        "data-id='" + id + "'>" +
        "<span class='glyphicon glyphicon-edit' />" +
        "</button>" +
        "</td>" +
        "<td>" + $("#produktname").val() + "</td>" +
        "<td>" + $("#menge").val() + "</td>" +
        "<td>" + $("#gewicht").val() + "</td>" +
        "<td>" + $("#strasse").val() + "</td>" +
        "<td>" + $("#hausnummer").val() + "</td>" +
        "<td>" + $("#plz").val() + "</td>" +
        "<td>" + $("#ort").val() + "</td>" +
        "<td>" + $("#lieferdatum").val() + "</td>" +
        "<td>" + $("#lieferzeit").val() + "</td>" +
        "<td>" + $("#auftragsnummer").val() + "</td>" +
        "<td>" +
        "<button type='button' " +
        "class='btn btn-outline-primary' " +
        "data-id='" + id + "'>" +
        "<span class='glyphicon glyphicon-ok' />" +
        "</button>" +
        "</td>" +
        "<td>" +
        "<button type='button' " +
        "class='btn btn-outline-primary' " +
        "data-id='" + id + "'>" +
        "<span class='glyphicon glyphicon-send' />" +
        "</button>" +
        "</td>" +
        "<td>" +
        "<button type='button' " +
        "onclick='productDelete(this);' " +
        "class='btn btn-outline-primary' " +
        "data-id='" + id + "'>" +
        "<span class='glyphicon glyphicon-remove' />" +
        "</button>" +
        "</td>" +
        "</tr>";
      modal.style.display = "none";
      return ret;
    }

    // Delete product from <table>
    function productDelete(ctl) {
      $(ctl).parents("tr").remove();
    }

    // Clear form fields
    function formClear() {
      $("#produktname").val("");
      $("#menge").val("");
      $("#gewicht").val("");
      $("#strasse").val("");
      $("#hausnummer").val("");
      $("#plz").val("");
      $("#ort").val("");
      $("#lieferdatum").val("");
      $("#lieferzeit").val("");
      $("#auftragsnummer").val("");
    }
  </script>

  <!-- Popup Script-->
  <script>
    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    // When the user clicks the button, open the modal 
    btn.onclick = function () {
      modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
  </script>
  </div>
  </br>

  <!-- Stammkunden -->
  <div style="display: flex; align-items: center; justify-content: center; margin-top: 2rem;">
    <h1 class="h3 mb-0 text-gray-800">Stammkunden</h1>
  </div>
  </br>
  <!-- Carousel Cards -->

  <div class="featured stacked-cards" style="align-items: center; z-index: 0;">
    <ul class="slider">
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fas fa-leaf fa-2x"
              style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Hive Z&uumlrich</div>
          <div style="font-size: 16px;">Hive</br>Geroldstrasse 5</br>8005 Z&uumlrich </br></br><button type="button"
              id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fa fa-rocket"
              aria-hidden="true" style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Roadhouse Luzern</div>
          <div style="font-size: 16px;">Roadhouse Luzern AG</br>Pilatusstrasse 1</br>6003 Luzern</br></br><button
              type="button" id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fa fa-rocket"
              aria-hidden="true" style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Nordportal Baden</div>
          <div style="font-size: 16px;">Nordportal Eventhalle Baden</br>Schmiedestrasse 12</br>5400
            Baden</br></br><button type="button" id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fas fa-leaf fa-2x"
              style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Kofmehl</div>
          <div style="font-size: 16px;">Kulturfabrik Kofmehl</br>Kofmehlweg 1</br>4503 Solothurn</br></br><button
              type="button" id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fa fa-rocket"
              aria-hidden="true" style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Bierh&uumlbeli</div>
          <div style="font-size: 16px;">Bierh&uumlbeli Bern</br>Neubr&uumlckstrasse 43</br>3012 Bern</br></br><button
              type="button" id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
      <li class="item">
        <h2>
          <div style="margin-right: 15px !important; text-align: right !important;"><i class="fas fa-leaf fa-2x"
              style="font-size: 35px;"></i></div>
          <div style="line-height: 30px;">Chollerhalle</div>
          <div style="font-size: 16px;">Verein Chollerhalle</br>Chamerstrasse 177</br>6300 Zug</br></br><button
              type="button" id="Uebernehmen" class="btn btn-primary">&Uumlbernehmen</button></div>
        </h2>
      </li>
    </ul>
  </div>
  </br>
  </br>
  </br>

  <!-- Stammkunden Script-->
  <script>
      /*
      * Stacked Cards
      */

      (function () {
        bind = function (fn, me) {
          return function () {
            return fn.apply(me, arguments);
          };
        }

        this.stackedCards = (function () {
          stackedCards.prototype.defaults = {
            layout: 'slide', // slide, fanOut
            onClick: undefined, // onclick event provided
            transformOrigin: "center", // css transformOrigin
          };

          function stackedCards(options) {
            if (options == null) {
              options = {};
            }

            this.draw = bind(this.draw, this);
            this.config = this.extend(options, this.defaults);
          }

          stackedCards.prototype.init = function () {
            this.element = window.document.documentElement;
            if ((ref = document.readyState) === "interactive" || ref === "complete") {
              this.draw();
            } else {
              document.addEventListener('DOMContentLoaded', this.draw);
            }
          }

          stackedCards.prototype.draw = function () {

            var me = this;

            var selector = this.config.selector;

            this.els = document.querySelectorAll(selector + " li");
            var els = this.els;

            this.parent = els[0].parentNode;

            var getItemHeight = els[0].getBoundingClientRect().height;

            /*var liWidth = 0;
            for(var q = 0;q<els.length; q++) {
                liWidth = liWidth + els[q].getBoundingClientRect().width;
            }*/

            els[0].parentNode.style.height = parseInt(getItemHeight) + "px";

            // to get the active element's position, we will have to know if elements are in even/odd count
            var lenAdjust = (els.length % 2 == 0 ? -2 : -1)

            // oneHalf if the centerPoint - things go left and right from here
            var oneHalf = (els.length + lenAdjust) / 2;

            var activeTransform = "translate(" + -50 + "%, 0%)  scale(1)";

            this.detectSwipe();


            Array.prototype.forEach.call(els, function (el) {

              el.style.transformOrigin = me.config.transformOrigin;

              el.addEventListener("click", function () {

                var clickedEl = el;
                var nextCnt = 0;
                var prevCnt = 0;

                do {
                  // While there is a next sibling, loop
                  var next = clickedEl.nextElementSibling;
                  nextCnt = nextCnt + 1;

                } while (clickedEl = clickedEl.nextElementSibling);

                // re-initialize the clickedEl to do the same for prev elements
                clickedEl = el;

                do {
                  // While there is a prev sibling, loop
                  var prev = clickedEl.previousElementSibling;
                  prevCnt = prevCnt + 1;
                } while (clickedEl = clickedEl.previousElementSibling);

                me.reCalculateTransformsOnClick(nextCnt - 1, prevCnt - 1)

                me.loopNodeList(els, function (el) {
                  el.classList.remove("active");
                })

                el.classList.add("active");
                el.classList.add(me.config.layout)



                el.style.zIndex = els.length * 5;
                el.style.transform = activeTransform;

                if (me.config.onClick !== undefined) {
                  me.config.onClick(el);
                }

              });
            });

            els[oneHalf].click();

          }

          stackedCards.prototype.reCalculateTransformsOnClick = function (nextCnt, prevCnt) {

            var z = 10;

            var els = this.nodelistToArray(this.els);

            var scale = 1,
              translateX = 0,
              rotateVal = 0,
              rotate = "";
            var rotateNegStart = 0 // ((75 / els.length) * (oneHalf))*-1;

            var transformArr = [];
            var zIndexArr = [];
            var relArr = [];

            var layout = this.config.layout;

            var maxCntDivisor = Math.max(prevCnt, nextCnt);
            var prevDivisor = 100 / (maxCntDivisor);
            var nextDivisor = 100 / (maxCntDivisor);

            if (prevCnt > nextCnt) {
              scale = 0 + (100 / (prevCnt + 1)) / 100;
            } else {
              scale = 1 - ((prevCnt) * (1 / (nextCnt + 1)));
            }

            var rotatePrevStart = ((prevCnt * 10 / (prevCnt) * prevCnt)) * -1;
            var rotateNextStart = ((nextCnt * 10 / (nextCnt)));

            for (var i = 0; i < prevCnt; i++) {
              switch (layout) {
                case "slide":
                  if (i > 0) {
                    scale = scale + (100 / (maxCntDivisor + 1)) / 100;
                  }

                  translateX = (-50 - ((prevDivisor) * (prevCnt - i)));

                  rotate = "rotate(0deg)";
                  break;
                case "fanOut":
                  rotateVal = rotatePrevStart;

                  if (i > 0) {
                    scale = scale + (100 / (maxCntDivisor + 1)) / 100;
                  }
                  translateX = (-50 - ((prevDivisor) * (prevCnt - i)));
                  rotate = "rotate(" + rotateVal + "deg)";

                  rotatePrevStart = rotatePrevStart + ((prevCnt * 10) / prevCnt);

                  break;
                default:
                  translateX = (150 - ((prevDivisor * 2) * i)) * -1;
                  rotate = "rotate(0deg)";

              }

              var styleStr = "translate(" + translateX + "%, 0%)  scale(" + scale + ") " + rotate;

              z = z + 1;

              els[i].style.transform = styleStr;
              els[i].style.zIndex = z;

            }

            // we are going for active element, so make it higher
            z = z - 1;

            var j = 0;

            rotateNegStart = 0;
            scale = 1;
            for (var i = prevCnt + 1; i < nextCnt + prevCnt + 1; i++) {
              j = j + 1;
              switch (layout) {
                case "slide":
                  scale = scale - (100 / (maxCntDivisor + 1)) / 100;
                  translateX = (50 - ((nextDivisor) * (j))) * -1;
                  rotate = "rotate(0deg)";
                  break;
                case "fanOut":
                  rotateVal = rotateNextStart;

                  scale = scale - (100 / (maxCntDivisor + 1)) / 100;
                  translateX = (50 - ((nextDivisor) * (j))) * -1;
                  rotate = "rotate(" + rotateVal + "deg)";

                  rotateNextStart = rotateNextStart + ((nextCnt * 10) / nextCnt);
                  break;
                default:
                  translateX = (50 - ((prevDivisor * 2) * i)) * -1;
                  rotate = "rotate(0deg)";

              }

              z = z - 1;

              var styleStr = "translate(" + translateX + "%, 0%)  scale(" + scale + ") " + rotate;

              els[i].style.transform = styleStr;
              els[i].style.zIndex = z;
            }



          }

          stackedCards.prototype.detectSwipe = function () {
            var me = this;
            var regionEl = document.querySelector(me.config.selector);

            me.detectSwipeDir(regionEl, function (swipedir) {
              var activeEl = document.querySelector(me.config.selector + " li.active");
              if (swipedir == 'left') {
                activeEl.nextElementSibling.click();
              } else if (swipedir == "right") {
                activeEl.previousElementSibling.click();
              }
            })

          }

          stackedCards.prototype.extend = function (custom, defaults) {
            var key, value;
            for (key in defaults) {
              value = defaults[key];
              if (custom[key] == null) {
                custom[key] = value;
              }
            }
            return custom;
          }

          stackedCards.prototype.nodelistToArray = function (nodelist) {
            var results = [];
            var i, element;
            for (i = 0; i < nodelist.length; i++) {
              element = nodelist[i];
              results.push(element);
            }
            return results;
          }

          stackedCards.prototype.loopNodeList = function (els, callback, scope) {
            for (var i = 0; i < els.length; i++) {
              callback.call(scope, els[i])
            }
          }


          stackedCards.prototype.scrolledIn = function (el, offset) {
            if (typeof el == 'undefined') return;

            var elemTop = el.getBoundingClientRect().top;
            var elemBottom = el.getBoundingClientRect().bottom;

            var scrolledInEl = (elemTop >= 0) && (elemTop <= window.innerHeight);
            return scrolledInEl;

          }

          stackedCards.prototype.detectSwipeDir = function (el, callback) {

            //credits: http://www.javascriptkit.com/javatutors/touchevents2.shtml

            var touchsurface = el,
              swipedir,
              startX,
              startY,
              distX,
              distY,
              threshold = 75, //required min distance traveled to be considered swipe
              restraint = 100, // maximum distance allowed at the same time in perpendicular direction
              allowedTime = 300, // maximum time allowed to travel that distance
              elapsedTime,
              startTime,
              handleswipe = callback || function (swipedir) { }

            touchsurface.addEventListener('touchstart', function (e) {
              var touchobj = e.changedTouches[0]
              swipedir = 'none'
              dist = 0
              startX = touchobj.pageX
              startY = touchobj.pageY
              startTime = new Date().getTime() // record time when finger first makes contact with surface
              e.preventDefault()
            }, false)

            touchsurface.addEventListener('touchmove', function (e) {
              // e.preventDefault() // prevent scrolling when inside DIV
            }, false)

            touchsurface.addEventListener('touchend', function (e) {
              var touchobj = e.changedTouches[0]
              distX = touchobj.pageX - startX // get horizontal dist traveled by finger while in contact with surface
              distY = touchobj.pageY - startY // get vertical dist traveled by finger while in contact with surface
              elapsedTime = new Date().getTime() - startTime // get time elapsed
              if (elapsedTime <= allowedTime) { // first condition for awipe met
                if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) { // 2nd condition for horizontal swipe met
                  swipedir = (distX < 0) ? 'left' : 'right' // if dist traveled is negative, it indicates left swipe
                } else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) { // 2nd condition for vertical swipe met
                  swipedir = (distY < 0) ? 'up' : 'down' // if dist traveled is negative, it indicates up swipe
                }
              }
              handleswipe(swipedir)
              e.preventDefault()
            }, false)

          }

          return stackedCards;

        })();
      }).call(this);
    var stackedCard = new stackedCards({
      selector: '.featured',
      layout: "slide",
      transformOrigin: "center",
    });
    stackedCard.init();
  </script>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>

  <!-- Page level plugins -->
  <script src="vendor/chart.js/Chart.min.js"></script>

  <!-- Page level custom scripts -->
  <script src="js/demo/chart-area-demo.js"></script>
  <script src="js/demo/chart-pie-demo.js"></script>

</body>

</html>